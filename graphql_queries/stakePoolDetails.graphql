query stakePoolDetails($pool: StakePoolID!, $epoch: Int!) {
  stakePools(where: { id: { _eq: $pool } }) {
    activeStake_aggregate(where: { epochNo: { _eq: $epoch } }) {
      aggregate {
        sum {
          amount
        }
      }
    }
    pledge
    delegators_aggregate {
      aggregate {
        count
      }
    }
    fixedCost
    margin
  }
  blocksThisEpoch: stakePools(where: { id: { _eq: $pool } }) {
    blocks_aggregate(where: { epoch: { number: { _eq: $epoch } } }) {
      aggregate {
        count
      }
    }
  }
  lifetimeBlocks: stakePools(where: { id: { _eq: $pool } }) {
    blocks_aggregate {
      aggregate {
        count
      }
    }
  }
}
